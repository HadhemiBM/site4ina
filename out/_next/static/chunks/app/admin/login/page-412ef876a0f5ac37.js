(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5920],{638:(e,n,r)=>{Promise.resolve().then(r.bind(r,6986))},6463:(e,n,r)=>{"use strict";var a=r(1169);r.o(a,"useParams")&&r.d(n,{useParams:function(){return a.useParams}}),r.o(a,"usePathname")&&r.d(n,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(n,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(n,{useSearchParams:function(){return a.useSearchParams}})},6986:(e,n,r)=>{"use strict";r.r(n),r.d(n,{default:()=>l});var a=r(7437),t=r(2265),s=r(6463),o=r(4561),i=r.n(o);let l=()=>{let[e,n]=(0,t.useState)(""),[r,o]=(0,t.useState)(""),[l,u]=(0,t.useState)(""),c=(0,s.useRouter)(),m=async n=>{n.preventDefault(),u("");try{let n=await fetch("http://localhost:3001/users/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:e,password:r})}),a=await n.json();if(!n.ok){let e=(null==a?void 0:a.message)||(Array.isArray(null==a?void 0:a.error)?a.error.join(", "):null==a?void 0:a.error)||"Login failed.";throw Error(e)}localStorage.setItem("token",a.access_token),localStorage.setItem("user",JSON.stringify(a.user)),c.push("/")}catch(e){console.error("Login error:",e),u(e.message||"Unexpected error. Try again later.")}};return(0,a.jsx)("div",{className:i().Container,children:(0,a.jsxs)("div",{className:i().SmallContainer,children:[(0,a.jsx)("h2",{children:"Login"}),(0,a.jsxs)("form",{onSubmit:m,className:i().form,children:[(0,a.jsxs)("div",{className:i().inputContainer,children:[(0,a.jsx)("label",{children:"Email:"}),(0,a.jsx)("input",{className:i().inputForm,type:"email",value:e,onChange:e=>n(e.target.value),required:!0})]}),(0,a.jsxs)("div",{className:i().inputContainer,children:[(0,a.jsx)("label",{children:"Password:"}),(0,a.jsx)("input",{className:i().inputForm,type:"password",value:r,onChange:e=>o(e.target.value),required:!0})]}),(0,a.jsx)("button",{className:i().buttonLogin,type:"submit",children:"Login"})]}),l&&(0,a.jsx)("p",{style:{color:"red",marginTop:"10px"},children:l})]})})}},4561:e=>{e.exports={Container:"login_Container__YnV8m",SmallContainer:"login_SmallContainer__Kbazg","animate-background":"login_animate-background__GFZ_x",form:"login_form__c99_G",inputForm:"login_inputForm__PSkOh",inputContainer:"login_inputContainer__yr8Sp",buttonLogin:"login_buttonLogin__2lnsg",gradientAnimation:"login_gradientAnimation__ZMViv"}}},e=>{var n=n=>e(e.s=n);e.O(0,[4301,7130,6215,1744],()=>n(638)),_N_E=e.O()}]);