(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4063],{8727:(e,t,n)=>{Promise.resolve().then(n.bind(n,8834))},8834:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var l=n(7437),r=n(2265),i=n(6344),a=n.n(i);let o=e=>{let{value:t,onChange:n}=e,i=(0,r.useRef)(null),[o,s]=(0,r.useState)("16px"),[c,u]=(0,r.useState)("#000000"),d=e=>{if("link"===e){let e=prompt("Enter a URL:","http://");e&&document.execCommand("createLink",!1,e)}else"insertH1"===e?document.execCommand("formatBlock",!1,"h1"):"insertH2"===e?document.execCommand("formatBlock",!1,"h2"):"insertH3"===e?document.execCommand("formatBlock",!1,"h3"):document.execCommand(e,!1);n&&i.current&&n(i.current.innerHTML||"")};return(0,l.jsxs)("div",{className:a().editorContainer,children:[(0,l.jsxs)("div",{className:a().toolbar,children:[(0,l.jsx)("button",{onClick:()=>d("bold"),children:(0,l.jsx)("b",{children:"B"})}),(0,l.jsx)("button",{onClick:()=>d("italic"),children:(0,l.jsx)("i",{children:"I"})}),(0,l.jsx)("button",{onClick:()=>d("underline"),children:(0,l.jsx)("u",{children:"U"})}),(0,l.jsx)("button",{onClick:()=>d("insertH1"),children:"H1"}),(0,l.jsx)("button",{onClick:()=>d("insertH2"),children:"H2"}),(0,l.jsx)("button",{onClick:()=>d("insertH3"),children:"H3"}),(0,l.jsx)("button",{onClick:()=>d("link"),children:(0,l.jsx)("i",{className:"fa-solid fa-link"})}),(0,l.jsx)("input",{type:"color",value:c,onChange:e=>{u(e.target.value),document.execCommand("foreColor",!1,e.target.value),n&&i.current&&n(i.current.innerHTML||"")},title:"Choose Text Color",className:a().colorPalette}),(0,l.jsx)("label",{htmlFor:"imageUpload",className:a().btnupload,children:"Upload Image"}),(0,l.jsx)("input",{id:"imageUpload",type:"file",accept:"image/*",style:{display:"none"},onChange:e=>{var t;let l=null===(t=e.target.files)||void 0===t?void 0:t[0];if(l){let e=new FileReader;e.onload=function(e){var t;let l='<img src="'.concat(null===(t=e.target)||void 0===t?void 0:t.result,'" alt="image" />');document.execCommand("insertHTML",!1,l),n&&i.current&&n(i.current.innerHTML||"")},e.readAsDataURL(l)}}})]}),(0,l.jsx)("div",{ref:i,className:a().editor,contentEditable:!0,style:{direction:"ltr",textAlign:"left"},onInput:()=>{n&&i.current&&n(i.current.innerHTML||"")}})]})};var s=n(3905),c=n.n(s);let u=()=>{let[e,t]=(0,r.useState)(""),[n,i]=(0,r.useState)(""),[a,s]=(0,r.useState)(""),[u,d]=(0,r.useState)(!1);(0,r.useRef)(null);let m=(0,r.useRef)(null),h=async()=>{localStorage.getItem("token");try{let t=await fetch("http://localhost:3001/blogs/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e,description:n,thumbnail_url:a,images:[]}),credentials:"include"});if(!t.ok){let e=await t.json();throw console.error("Error from server:",e),Error(e.message||"Failed to create blog")}let l=await t.json();console.log("Blog created:",l),d(!0)}catch(e){console.error("Error submitting blog:",e),alert("Something went wrong. Please try again.")}};return(0,r.useEffect)(()=>{m.current&&m.current.querySelectorAll("img").forEach(e=>{e.classList.add(c().previewImage)})},[n]),(0,l.jsxs)("div",{className:c().container,children:[(0,l.jsx)("h2",{children:"Add Your Blog"}),(0,l.jsxs)("div",{className:c().inputContainer,children:[(0,l.jsx)("label",{htmlFor:"title",children:"Title:"}),(0,l.jsx)("input",{type:"text",id:"title",value:e,onChange:e=>{t(e.target.value)},placeholder:"Enter article title",className:c().input})]}),(0,l.jsxs)("div",{className:c().inputContainer,children:[(0,l.jsx)("label",{htmlFor:"thumbnail_url",children:"Thumbnail URL:"}),(0,l.jsx)("input",{type:"text",id:"thumbnail_url",value:a,onChange:e=>s(e.target.value),placeholder:"https://example.com/image.png",className:c().input})]}),a&&(0,l.jsx)("img",{src:a,alt:"Thumbnail Blog",className:c().thumbnailPreview}),(0,l.jsx)(o,{value:n,onChange:e=>{i(e)}}),(0,l.jsx)("div",{style:{marginTop:"20px"},children:(0,l.jsx)("button",{onClick:h,className:c().submitButton,children:"Submit"})})]})}},6344:e=>{e.exports={editorContainer:"RichTextEditor_editorContainer__2dmvv",toolbar:"RichTextEditor_toolbar__xVMRB",editor:"RichTextEditor_editor__yc_SZ",colorPalette:"RichTextEditor_colorPalette__d2Qag",btnupload:"RichTextEditor_btnupload__kE5M0"}},3905:e=>{e.exports={container:"blog_container__63uSe",inputContainer:"blog_inputContainer__wezvd",input:"blog_input__8Q1Oc",thumbnailPreview:"blog_thumbnailPreview__5_e6D",previewContainer:"blog_previewContainer__pUbid",container2:"blog_container2__1BmJp",submitButton:"blog_submitButton__LdCI8",thumbnailPreviewWrapper:"blog_thumbnailPreviewWrapper__s_3UV",thumbnailPreview2:"blog_thumbnailPreview2__OVbu4","animate-background":"blog_animate-background__RqXwX"}}},e=>{var t=t=>e(e.s=t);e.O(0,[7685,7130,6215,1744],()=>t(8727)),_N_E=e.O()}]);